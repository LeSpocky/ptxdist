## SECTION=security

menuconfig OPTEE_CLIENT
	tristate
	select HOST_CMAKE
	select LIBUUID
	prompt "optee-client                  "
	help
	  Open Portable Trusted Execution Environment Client API.

	  This package contains libteec.so, which is the library that
	  contains that API for communication with the Trusted OS. And
	  a binary tee-supplicant which is a daemon serving the
	  Trusted OS in secure world with miscellaneous features, such
	  as file system access.

if OPTEE_CLIENT

config OPTEE_CLIENT_UDEV
	bool
	default y
	depends on UDEV
	select OPTEE_CLIENT_SYSTEMD_UNIT
	prompt "permission handling and systemd trigger"
	help
	  optee-client comes with an udev rule that defines the group ownership
	  of any '/dev/tee*' to 'tee' and of any '/dev/teepriv*' device as well
	  as the RPMB partition of any eMMC to 'teepriv'. The respective groups
	  have to be defined within the BSP.
	  The udev rule further instantiates a systemd service for every TEE
	  device.

config OPTEE_CLIENT_SYSTEMD_UNIT
	bool
	default y
	depends on SYSTEMD
	prompt "install systemd service file for tee-supplicant"
	help
	  optee-client comes with a systemd service template to start a TEE-
	  device specific instance of tee-supplicant.
	  tee-supplicant is intended to run with a dedicated user/group
	  setting: 'teesuppl:teesuppl'. This has to be defined within the BSP.
	  Note that 'teesuppl' has also to be part of group 'teepriv'.

config OPTEE_CLIENT_SUPPLICANT_PLUGINS
	bool
	prompt "enable TEE supplicant plugins"

config OPTEE_CLIENT_SUPPLICANT_RPMB_EMULATION
	bool
	prompt "enable TEE supplicant RPMB emulation"
	help
	  Emulate the RPMB in the TEE supplicant instead of using the eMMC.

endif
