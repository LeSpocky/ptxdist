From: Marc Kleine-Budde <mkl@pengutronix.de>
Date: Thu, 17 Mar 2011 13:34:53 +0100
Subject: [PATCH] teach ncurses-config about sysroot

This patch teaches ncurses-config about sysroot

Signed-off-by: Marc Kleine-Budde <mkl@pengutronix.de>
---
 misc/ncurses-config.in |   10 +++++-----
 1 files changed, 5 insertions(+), 5 deletions(-)

diff --git a/misc/ncurses-config.in b/misc/ncurses-config.in
index 1da156c..25c7858 100644
--- a/misc/ncurses-config.in
+++ b/misc/ncurses-config.in
@@ -70,11 +70,11 @@ while test $# -gt 0; do
 	# compile/link
 	--cflags)
 		INCS=
-		if test "${prefix}/include" != /usr/include ; then
-			INCS="-I${prefix}/include"
+		if test "${SYSROOT}${prefix}/include" != /usr/include ; then
+			INCS="-I${SYSROOT}${prefix}/include"
 		fi
 		if test "@WITH_OVERWRITE@" != no ; then
-			INCS="$INCS -I${prefix}/include/${THIS}"
+			INCS="$INCS -I${SYSROOT}${prefix}/include/${THIS}"
 		fi
 		sed -e 's,^[ ]*,,' -e 's, [ ]*, ,g' -e 's,[ ]*$,,' <<-ENDECHO
 			$INCS
@@ -82,7 +82,7 @@ ENDECHO
 		;;
 	--libs)
 		sed -e 's,^[ ]*,,' -e 's, [ ]*, ,g' -e 's,[ ]*$,,' <<-ENDECHO
-			-L${exec_prefix}/lib @EXTRA_LDFLAGS@ -l${THIS} @LIBS@
+			-L${SYSROOT}${exec_prefix}/lib @EXTRA_LDFLAGS@ -l${THIS} @LIBS@
 ENDECHO
 		;;
 	# identification
@@ -103,7 +103,7 @@ ENDECHO
 		echo "${datadir}"
 		;;
 	--libdir)
-		echo "${libdir}"
+		echo "${SYSROOT}${libdir}"
 		;;
 	--mandir)
 		echo "${mandir}"
-- 
1.7.2.3

