From: Michael Grzeschik <m.grzeschik@pengutronix.de>
Date: Fri, 13 Jul 2018 12:24:59 +0200
Subject: [PATCH] configure: make opengl support switchable

Signed-off-by: Michael Grzeschik <m.grzeschik@pengutronix.de>
---
 configure.ac | 7 +++++++
 1 file changed, 7 insertions(+)

diff --git a/configure.ac b/configure.ac
index cb2a65ee83b7..7123a7c564b4 100644
--- a/configure.ac
+++ b/configure.ac
@@ -232,6 +232,12 @@ CheckVisibilityHidden()
 }
 CheckVisibilityHidden
 
+dnl Check to see if OpenGL support is desired
+AC_ARG_ENABLE(opengl,
+AC_HELP_STRING([--enable-opengl], [include OpenGL support [[default=yes]]]),
+              , enable_opengl=yes)
+
+if test x$enable_opengl = xyes; then
 dnl Check for OpenGL
 case "$host" in
     *-*-cygwin* | *-*-mingw*)
@@ -282,6 +288,7 @@ else
     GL_LIBS=""
 fi
 AC_SUBST([GL_LIBS])
+fi
 AC_SUBST([MATHLIB])
 AC_SUBST([WINDRES])
 AC_SUBST([TTF_CFLAGS])
