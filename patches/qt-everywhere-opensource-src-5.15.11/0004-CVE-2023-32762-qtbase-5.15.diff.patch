From: Michael Olbrich <m.olbrich@pengutronix.de>
Date: Mon, 16 Oct 2023 10:13:22 +0200
Subject: [PATCH] CVE-2023-32762-qtbase-5.15.diff

Imported from https://download.qt.io/archive/qt/5.15/
---
 qtbase/src/network/access/qhsts.cpp | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/qtbase/src/network/access/qhsts.cpp b/qtbase/src/network/access/qhsts.cpp
index 0cef0ad3dc01..be7ef7ff58f5 100644
--- a/qtbase/src/network/access/qhsts.cpp
+++ b/qtbase/src/network/access/qhsts.cpp
@@ -364,8 +364,8 @@ quoted-pair    = "\" CHAR
 bool QHstsHeaderParser::parse(const QList<QPair<QByteArray, QByteArray>> &headers)
 {
     for (const auto &h : headers) {
-        // We use '==' since header name was already 'trimmed' for us:
-        if (h.first == "Strict-Transport-Security") {
+        // We compare directly because header name was already 'trimmed' for us:
+        if (h.first.compare("Strict-Transport-Security", Qt::CaseInsensitive) == 0) {
             header = h.second;
             // RFC6797, 8.1:
             //
